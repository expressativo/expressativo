#!/usr/bin/env bash

# Script para limpiar cachÃ© de assets y recompilar Tailwind en desarrollo
echo "ğŸ§¹ Limpiando cachÃ© de assets..."

# Eliminar archivos de cachÃ© de Rails
rm -rf tmp/cache/assets/
rm -rf tmp/cache/webpacker/
rm -rf public/assets/

echo "ğŸ¨ Recompilando Tailwind CSS..."

# Recompilar Tailwind dentro del contenedor Docker
docker compose exec web bin/rails tailwindcss:build

echo "ğŸ”„ Reiniciando contenedor web..."
docker compose restart web

echo "âœ… Â¡Listo! Los cambios en assets deberÃ­an reflejarse ahora."
echo "ğŸ’¡ Tip: Refresca la pÃ¡gina con Cmd+Shift+R (hard refresh) para forzar la recarga de assets."
